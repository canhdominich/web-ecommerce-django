{% extends "app/base.html" %}
{%load static%}

<!--data-bs-ride="carousel" : tự đọng chuyển
class="col-lg-3": dàn 4 sản phẩm trên 1 hàng
class="col-lg-4": dàn 3 sản phẩm trên 1 hàng-->

{% block banner_slider %}
<div id="carouselExampleDark" class="carousel carousel-dark slide" data-bs-ride="carousel">
    <div class="carousel-indicators">
      <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
      <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="1" aria-label="Slide 2"></button>
      <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="2" aria-label="Slide 3"></button>
      <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="3" aria-label="Slide 4"></button>
    </div>
    <div class="carousel-inner">
      <div class="carousel-item active" data-bs-interval="5000">
        <img src="{% static 'app/images/banner/b1.jpg'%}" class="d-block w-100" alt="Cô gái Hà Lan" height="380">
        <div class="carousel-caption d-none d-md-block bg-success text-white p-2">
          <h5>Sữa mới </h5>
          <p>Cô gái Hà Lan xinh tươi</p>
        </div>
      </div>
      <div class="carousel-item" data-bs-interval="2000">
        <img src="{% static 'app/images/banner/b2.jpg'%}" class="d-block w-100" alt="Sữa bột" height="380">
        <div class="carousel-caption d-none d-md-block bg-success text-white p-2">
          <h5>Sữa mới</h5>
          <p>Mẹ và bé</p>
        </div>
      </div>
      <div class="carousel-item">
        <img src="{% static 'app/images/banner/b3.jpg'%}" class="d-block w-100" alt="Sữa đặc" height="380">
        <div class="carousel-caption d-none d-md-block">
          <h5>Sữa mới</h5>
          <p>Không loãng</p>
        </div>
      </div>
      <div class="carousel-item">
        <img src="{% static 'app/images/banner/b4.jpg'%}" class="d-block w-100" alt="Sữa không đường" height="380">
        <div class="carousel-caption d-none d-md-block ">
          <h5>Sữa mới</h5>
          <p>Không có đường</p>
        </div>
      </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>
{% endblock banner_slider %}

{% block main-content %}
  <div class="row" style="width:100%">
    {% for product in products %}
    <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
        <div class="card h-100">
            {% if product.product_image %}
            <img class="card-img-top thumbnail" src="{{product.product_image.url}}" alt="{{product.title}}" style="height: 250px; object-fit: cover;">
            {% else %}
            <div class="card-img-top img-placeholder thumbnail" style="height: 250px;">Không có ảnh</div>
            {% endif %}
            <div class="card-body d-flex flex-column">
              <h6 class="card-title"><strong>{{product.title}}</strong></h6>
              <hr>
              <div class="mt-auto">
                  {% if user.is_authenticated %}
                  <button data-product={{product.id}} data-action="add" class="btn btn-outline-secondary add-btn update-cart btn-sm mb-2">Thêm vào giỏ hàng</button>
                  {% endif %}
                  <a class="btn btn-outline-success btn-sm mb-2" href="{% url 'product_detail' product.id %}">Xem</a>
                  <h5 class="mt-2"><strong>{{product.discounted_price|floatformat:0}}₫</strong></h5>
                  {% if product.selling_price > product.discounted_price %}
                  <small class="text-muted"><del>{{product.selling_price|floatformat:0}}₫</del></small>
                  {% endif %}
              </div>
            </div>
        </div>
    </div>
    {% endfor %}
  </div>

  <br/><br/><br/>
{% endblock main-content %}